<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–õ–∏—Å—ë–Ω–æ–∫ –∏ –Å–∂–∏–∫ ‚Äî —Å–≤–∞–¥–µ–±–Ω–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- –ü–∏–∫—Å–µ–ª—å–Ω—ã–π —à—Ä–∏—Ñ—Ç -->
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background:
        radial-gradient(circle at top, #ffcfb3 0, #ff8b6a 28%, #5a0a16 65%, #1b0205 100%);
      font-family: "Press Start 2P", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: #fff4ea;
    }

    #app {
      width: 95%;
      max-width: 900px;
      padding: 16px;
    }

    .pixel-card {
      border: 4px solid #2b050b;
      background: linear-gradient(180deg, rgba(35, 2, 7, 0.95), rgba(16, 1, 4, 0.98));
      box-shadow:
        0 0 0 4px #ffb9a0,
        0 0 0 8px #2b050b,
        0 18px 0 8px #120106;
      padding: 24px 20px 28px;
      position: relative;
      overflow: hidden;
    }

    .pixel-header {
      text-align: center;
      margin-bottom: 12px;
    }

    .pixel-header h1 {
      font-size: 14px;
      line-height: 1.6;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .pixel-sub {
      font-size: 9px;
      margin-top: 8px;
      opacity: 0.9;
    }

    /* –§–æ–Ω-—É–ª–æ—á–∫–∞ */
    .lantern-row {
      position: absolute;
      top: 14px;
      left: -20px;
      right: -20px;
      height: 22px;
      background:
        repeating-linear-gradient(
          90deg,
          rgba(255, 230, 200, 0.14),
          rgba(255, 230, 200, 0.14) 8px,
          transparent 8px,
          transparent 36px
        );
      pointer-events: none;
    }

    .lantern {
      position: absolute;
      top: -6px;
      width: 20px;
      height: 26px;
      border-radius: 10px;
      background: radial-gradient(circle at 50% 30%, #fff5d7 0, #ffcf6b 35%, #ff5b3c 80%);
      box-shadow: 0 0 12px 2px rgba(255, 173, 96, 0.9);
      border: 2px solid #4b0507;
    }
    .lantern::after {
      content: "";
      position: absolute;
      left: 50%;
      top: -6px;
      transform: translateX(-50%);
      width: 2px;
      height: 6px;
      background: #f1e0c1;
    }

    .lantern.l1 { left: 12%; }
    .lantern.l2 { left: 42%; }
    .lantern.l3 { left: 72%; }

    /* –õ–ê–ë–ò–†–ò–ù–¢-–°–ë–õ–ò–ñ–ï–ù–ò–ï */
    .maze {
      margin: 6px 0 8px;
      position: relative;
      height: 22px;
    }

    .maze-line {
      position: absolute;
      top: 10px;
      left: 6%;
      right: 6%;
      height: 4px;
      background:
        repeating-linear-gradient(
          90deg,
          #3e0c10,
          #3e0c10 6px,
          #6d1b22 6px,
          #6d1b22 12px
        );
      border: 2px solid #120106;
    }

    .maze-fox,
    .maze-hedgehog {
      position: absolute;
      top: 1px;
      font-size: 14px;
      text-shadow: 1px 1px #000;
      transition: left 0.3s ease;
    }

    .maze-fox { left: 4%; }
    .maze-hedgehog { right: 4%; }

    .pixel-animals {
      margin-top: 4px;
      margin-bottom: 10px;
      position: relative;
      height: 130px;
      background: linear-gradient(180deg, #2a0208 0, #40040c 45%, #3a0208 45%, #2a0105 100%);
      border: 3px solid #120004;
    }

    .street-line {
      position: absolute;
      left: 0;
      right: 0;
      top: 52%;
      height: 4px;
      background: linear-gradient(90deg, #fbc99c, #ffc27b, #f19a5b);
    }

    .ground {
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      height: 38px;
      background: repeating-linear-gradient(
        90deg,
        #3e130b,
        #3e130b 10px,
        #5a1b0f 10px,
        #5a1b0f 20px
      );
      border-top: 3px solid #140205;
    }

    .pixel-animal {
      width: 90px;
      height: 90px;
      border: 4px solid #120004;
      background: repeating-linear-gradient(
        45deg,
        #ffb78e,
        #ffb78e 6px,
        #ff9966 6px,
        #ff9966 12px
      );
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 36px;
      text-shadow: 2px 2px #000;
      image-rendering: pixelated;
      box-shadow: 0 0 0 3px #ffe0c4;
      position: absolute;
      bottom: 12px;
      transition: transform 0.4s ease, box-shadow 0.2s ease;
    }

    .pixel-animal.fox { left: 18px; }

    .pixel-animal.hedgehog {
      right: 18px;
      background: repeating-linear-gradient(
        135deg,
        #e3c4ff,
        #e3c4ff 6px,
        #c49aff 6px,
        #c49aff 12px
      );
    }

    .pixel-animal.active {
      box-shadow:
        0 0 0 3px #ffe0c4,
        0 0 10px 2px rgba(255, 190, 155, 0.9);
    }

    .pixel-heart {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      bottom: 64px;
      font-size: 26px;
      text-shadow: 2px 2px #000;
      opacity: 0;
      transition: opacity 0.4s ease, transform 0.4s ease;
    }

    .pixel-heart.visible {
      opacity: 1;
      transform: translate(-50%, -10px);
    }

    .timeline {
      margin: 10px 0 14px;
      font-size: 8px;
      opacity: 0.9;
    }

    .timeline span {
      display: inline-block;
      margin-right: 8px;
    }

    .dot {
      display: inline-block;
      width: 6px;
      height: 6px;
      border: 2px solid #ffb9a0;
      margin-right: 3px;
      vertical-align: middle;
    }

    .dot.active { background: #ffb9a0; }

    .screen {
      display: none;
      margin-top: 8px;
    }

    .screen.active { display: block; }

    .story-text {
      font-size: 10px;
      line-height: 1.7;
      margin-bottom: 16px;
      white-space: pre-line;
    }

    .small-caption {
      font-size: 8px;
      opacity: 0.8;
      margin-top: 4px;
    }

    .buttons-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 6px;
    }

    button.pixel-btn {
      font-family: "Press Start 2P", system-ui;
      font-size: 9px;
      padding: 8px 11px;
      border: 3px solid #190104;
      background: linear-gradient(#ffd37a, #ff9b4d);
      box-shadow: 0 3px 0 #190104;
      text-transform: uppercase;
      cursor: pointer;
      transition: transform 0.1s ease, box-shadow 0.1s ease, filter 0.1s ease, box-shadow 0.15s;
      color: #1a0203;
      max-width: 100%;
    }

    button.pixel-btn.secondary {
      background: linear-gradient(#ff9688, #ff4a4a);
      color: #fff7f3;
    }

    button.pixel-btn.ghost {
      background: transparent;
      color: #ffe9de;
      border-color: #ffb9a0;
      box-shadow: 0 3px 0 #190104;
    }

    button.pixel-btn.view-selected {
      box-shadow:
        0 3px 0 #190104,
        0 0 12px 2px rgba(255, 213, 168, 0.8);
      filter: brightness(1.04);
    }

    button.pixel-btn:hover { filter: brightness(1.05); }

    button.pixel-btn:active {
      transform: translateY(2px);
      box-shadow: 0 1px 0 #190104;
    }

    .invite-block {
      margin-top: 8px;
      padding: 12px;
      border: 2px solid #ffb9a0;
      background: rgba(33, 2, 7, 0.9);
      font-size: 9px;
      line-height: 1.7;
    }

    .invite-block h2 {
      font-size: 11px;
      margin-bottom: 8px;
    }

    .date-line {
      margin: 8px 0;
      font-size: 10px;
    }

    .location {
      font-size: 8px;
      opacity: 0.9;
      margin-bottom: 8px;
    }

    .dresscode-block {
      margin-top: 10px;
      padding: 8px;
      border-radius: 4px;
      background: rgba(120, 9, 22, 0.85);
      border: 1px solid #ffb9a0;
      font-size: 8px;
      line-height: 1.6;
    }

    .dresscode-title {
      font-size: 9px;
      margin-bottom: 4px;
      text-transform: uppercase;
    }

    .rsvp-block {
      margin-top: 12px;
      border-top: 2px dashed #ffb9a0;
      padding-top: 10px;
      font-size: 9px;
    }

    .rsvp-block h3 {
      font-size: 10px;
      margin-bottom: 8px;
    }

    .rsvp-form {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 4px;
    }

    .rsvp-form label {
      font-size: 8px;
      display: block;
      margin-bottom: 2px;
    }

    .rsvp-form input,
    .rsvp-form select,
    .rsvp-form textarea {
      width: 100%;
      padding: 6px 6px;
      border: 2px solid #2b050b;
      font-family: inherit;
      font-size: 9px;
      background: #fff8f1;
      color: #1a0203;
      outline: none;
    }

    .rsvp-form textarea {
      resize: vertical;
      min-height: 50px;
    }

    .rsvp-note {
      font-size: 8px;
      opacity: 0.75;
      margin-top: 4px;
    }

    .rsvp-success {
      font-size: 9px;
      margin-top: 8px;
      color: #c6ffb8;
      display: none;
      white-space: pre-line;
    }

    .console {
      margin-top: 12px;
      padding: 8px;
      background: #150106;
      border: 2px solid #5c1b1f;
      font-family: "Press Start 2P", system-ui;
      font-size: 8px;
      line-height: 1.6;
      height: 70px;
      overflow: hidden;
      white-space: pre-line;
      color: #ffdcd0;
    }

    @media (max-width: 600px) {
      .pixel-card {
        padding: 20px 12px 22px;
      }

      .pixel-animals { height: 118px; }

      .pixel-animal {
        width: 76px;
        height: 76px;
        font-size: 30px;
        bottom: 10px;
      }

      .pixel-header h1 { font-size: 11px; }
    }
  </style>
</head>
<body>
  <div id="app">
    <div class="pixel-card">
      <div class="lantern-row">
        <div class="lantern l1"></div>
        <div class="lantern l2"></div>
        <div class="lantern l3"></div>
      </div>

      <div class="pixel-header">
        <h1>–õ–ò–°–Å–ù–û–ö &amp; –Å–ñ–ò–ö</h1>
        <div class="pixel-sub">—Å–≤–∞–¥–µ–±–Ω–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ v2.0 ¬∑ red lanterns edition</div>
      </div>

      <!-- –õ–∞–±–∏—Ä–∏–Ω—Ç-—Å–±–ª–∏–∂–µ–Ω–∏–µ -->
      <div class="maze">
        <div class="maze-line"></div>
        <div id="maze-fox" class="maze-fox">ü¶ä</div>
        <div id="maze-hedgehog" class="maze-hedgehog">ü¶î</div>
      </div>

      <div class="pixel-animals">
        <div class="street-line"></div>
        <div class="ground"></div>

        <div id="fox" class="pixel-animal fox">ü¶ä</div>
        <div id="hedgehog" class="pixel-animal hedgehog">ü¶î</div>
        <div id="heart" class="pixel-heart">‚ù§Ô∏è</div>
      </div>

      <div class="timeline">
        <span><span class="dot active" id="dot-1"></span>–®–∞–≥ 1</span>
        <span><span class="dot" id="dot-2"></span>–®–∞–≥ 2</span>
        <span><span class="dot" id="dot-3"></span>–®–∞–≥ 3</span>
        <span><span class="dot" id="dot-4"></span>–§–∏–Ω–∞–ª</span>
      </div>

      <!-- –≠–ö–†–ê–ù 1 -->
      <div class="screen active" id="screen-1">
        <div class="story-text">
          –í–µ—á–µ—Ä–æ–º, –ø–æ–¥ –∫—Ä–∞—Å–Ω—ã–º–∏ —Ñ–æ–Ω–∞—Ä–∏–∫–∞–º–∏,  
          –≤—Å–µ–ª–µ–Ω–Ω–∞—è –∑–∞–ø—É—Å—Ç–∏–ª–∞ –º–∞–ª–µ–Ω—å–∫—É—é –∏–≥—Ä—É:  
          ¬´–ê —á—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –õ–∏—Å—ë–Ω–∫–∞ –∏ –Å–∂–∏–∫–∞  
          –ø—É—Å—Ç–∏—Ç—å –ø–æ –æ–¥–Ω–æ–π —É–ª–æ—á–∫–µ —Å—É–¥—å–±—ã?¬ª

          –ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é, –≤—ã–±–µ—Ä–∏—Ç–µ, —á—å–∏ —à–∞–≥–∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–µ—Ä–≤—ã–º–∏.
        </div>

        <div class="small-caption">
          (—Å–ø–æ–π–ª–µ—Ä: –≤ —Ñ–∏–Ω–∞–ª–µ –æ–Ω–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è)
        </div>

        <div class="buttons-row">
          <button id="btn-fox" class="pixel-btn" onclick="startPath('fox')">
            ‚ñ∂ –ü—É—Ç—å –õ–∏—Å—ë–Ω–∫–∞
          </button>
          <button id="btn-hedgehog" class="pixel-btn secondary" onclick="startPath('hedgehog')">
            ‚ñ∂ –ü—É—Ç—å –Å–∂–∏–∫–∞
          </button>
        </div>
      </div>

      <!-- –≠–ö–†–ê–ù 2 -->
      <div class="screen" id="screen-2">
        <div class="story-text" id="path-text"></div>

        <div class="buttons-row">
          <button class="pixel-btn" onclick="nextScreen(3)">
            ‚ûú –î–∞–ª—å—à–µ –ø–æ —É–ª–æ—á–∫–µ
          </button>
          <button class="pixel-btn ghost" onclick="backToStart()">
            ‚óÄ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å –¥—Ä—É–≥–æ–≥–æ —Ä–∞–∫—É—Ä—Å–∞
          </button>
        </div>
      </div>

      <!-- –≠–ö–†–ê–ù 3 ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –±–ª–æ–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏ -->
      <div class="screen" id="screen-3">
        <div class="story-text" id="joint-text">
          –ö —Ç–æ–º—É –º–æ–º–µ–Ω—Ç—É –æ–±–∞ —É–∂–µ —É–º–µ–ª–∏ –º–Ω–æ–≥–æ:  
          —Å—á–∏—Ç–∞—Ç—å, –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –ø–∞–¥–∞—Ç—å –∏ –≤—Å—Ç–∞–≤–∞—Ç—å.  
          –ù–æ –Ω–µ –æ—á–µ–Ω—å –ø–æ–Ω–∏–º–∞–ª–∏, —Ä–∞–¥–∏ –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –∂–∏–∑–Ω–∏  
          –≤—Å—ë —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç.

          –°–µ–π—á–∞—Å –∫–∞–º–µ—Ä–∞ —Å—Ç–æ–∏—Ç –∑–∞ —Ç–µ–º, —á–µ–π –ø—É—Ç—å –≤—ã –≤—ã–±—Ä–∞–ª–∏.  
          –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è, –Ω–æ –≥–ª–∞–≤—ã —á—É—Ç—å –º–µ–Ω—è—é—Ç –æ—Ç—Ç–µ–Ω–æ–∫.
        </div>

        <div class="buttons-row">
          <button class="pixel-btn secondary" onclick="showExam()">
            üìö –¢–æ—Ç —Å–∞–º—ã–π —ç–∫–∑–∞–º–µ–Ω
          </button>
          <button class="pixel-btn secondary" onclick="showWalks()">
            üö∂ –ü—Ä–æ–≥—É–ª–∫–∏ –∏ 35&nbsp;000 —à–∞–≥–æ–≤
          </button>
          <button class="pixel-btn secondary" onclick="showPskov()">
            üè∞ –ü—Å–∫–æ–≤ –∏ –∫—Ä–µ–ø–æ—Å—Ç–∏
          </button>
          <button class="pixel-btn secondary" onclick="showJapan()">
            ‚úàÔ∏è –Ø–ø–æ–Ω–∏—è –∏ —ç–∫–∑–∞–º–µ–Ω
          </button>
        </div>

        <div class="buttons-row" style="margin-top: 10px;">
          <button class="pixel-btn" onclick="connectPaths()">
            ‚ù§ –°–æ–µ–¥–∏–Ω–∏—Ç—å –ø—É—Ç–∏
          </button>
          <button class="pixel-btn ghost" onclick="backToStart()">
            ‚óÄ –° –Ω–∞—á–∞–ª–∞ –∏—Å—Ç–æ—Ä–∏–∏
          </button>
        </div>
      </div>

      <!-- –≠–ö–†–ê–ù 4 -->
      <div class="screen" id="screen-4">
        <div class="invite-block">
          <h2>–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –ø–æ–¥ –∫—Ä–∞—Å–Ω—ã–º–∏ —Ñ–æ–Ω–∞—Ä–∏–∫–∞–º–∏</h2>

          <div class="date-line">
            10 –º–∞—è 2026 ¬∑ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ ¬∑ 19:40
          </div>
          <div class="location">
            –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –î–≤–æ—Ä–µ—Ü –±—Ä–∞–∫–æ—Å–æ—á–µ—Ç–∞–Ω–∏—è ‚Ññ1  
          </div>

          <div class="story-text" style="margin-bottom: 6px;">
            –ú—ã, –õ–∏—Å—ë–Ω–æ–∫ –∏ –Å–∂–∏–∫, –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ  
            —Ñ–∏–∫—Å–∏—Ä—É–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–≥—Ä—ã ¬´–í–º–µ—Å—Ç–µ¬ª  
            –∏ –∑–æ–≤—ë–º –≤–∞—Å —Å—Ç–∞—Ç—å —á–∞—Å—Ç—å—é —ç—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è ‚Äî
            –Ω–∞—à–µ–≥–æ —Å–≤–∞–¥–µ–±–Ω–æ–≥–æ –≤–µ—á–µ—Ä–∞.
          </div>

          <div class="dresscode-block">
            <div class="dresscode-title">–î–†–ï–°–°-–ö–û–î (–ü–û –ñ–ï–õ–ê–ù–ò–Æ)</div>
            –ú—ã –¥–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–∞—à –¥–µ–Ω—å –Ω–µ–º–Ω–æ–≥–æ –∫–∏—Ç–∞–π—Å–∫–æ–π –º–∞–≥–∏–∏ –∏ –∫—Ä–∞—Å–Ω—ã—Ö –æ–≥–æ–Ω—å–∫–æ–≤.  
            –ï—Å–ª–∏ –≤–∞–º –±—É–¥–µ—Ç —É–¥–æ–±–Ω–æ, –±—É–¥–µ–º –æ—á–µ–Ω—å —Ä–∞–¥—ã, –µ—Å–ª–∏ –≤—ã –ø–æ–¥–¥–µ—Ä–∂–∏—Ç–µ  
            –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –æ–±—Ä–∞–∑–æ–º –≤ –æ—Ç—Ç–µ–Ω–∫–∞—Ö:

            –∫—Ä–∞—Å–Ω—ã–π, –±–æ—Ä–¥–æ–≤—ã–π, –≥—Ä–∞–Ω–∞—Ç–æ–≤—ã–π, —á—ë—Ä–Ω—ã–π, —Ç—ë–º–Ω–æ-—Å–∏–Ω–∏–π, –≥–ª—É–±–æ–∫–æ–µ –≤–∏–Ω–æ.

            –≠—Ç–æ –Ω–µ —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∏–ª–∞ ‚Äî –≤–∞–∂–Ω–µ–µ –≤—Å–µ–≥–æ, —á—Ç–æ–±—ã –≤–∞–º –±—ã–ª–æ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ.  
            –ù–æ –µ—Å–ª–∏ –≤—ã –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç–µ—Å—å –∫ —Ü–≤–µ—Ç–æ–≤–æ–π –≤–æ–ª–Ω–µ,  
            —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –±—É–¥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ –∫–∞–¥—Ä—ã –∏–∑ –Ω–æ—á–Ω–æ–π –∞–∑–∏–∞—Ç—Å–∫–æ–π —É–ª–æ—á–∫–∏. ‚ù§Ô∏è
          </div>

          <div class="rsvp-block">
            <h3>RSVP ‚Äî –±—É–¥–µ—Ç–µ –ª–∏ –≤—ã —Å –Ω–∞–º–∏?</h3>

            <form id="rsvp-form" class="rsvp-form">
              <div>
                <label for="name">–ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è</label>
                <input id="name" name="name" type="text" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –¢—ë—Ç—è –ú–∞—Ä–∏–Ω–∞" />
              </div>

              <div>
                <label for="status">–í–∞—à —Å—Ç–∞—Ç—É—Å</label>
                <select id="status" name="status" required>
                  <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç</option>
                  <option value="–î–∞, –ø—Ä–∏–¥—É">–î–∞, –ø—Ä–∏–¥—É –∏ –ø—Ä–∏–Ω–µ—Å—É –ª—é–±–æ–≤—å</option>
                  <option value="–ü–æ–∫–∞ –Ω–µ —É–≤–µ—Ä–µ–Ω–∞">–ü–æ–∫–∞ –Ω–µ —É–≤–µ—Ä–µ–Ω–∞, —É—Ç–æ—á–Ω—é –ø–æ–∑–∂–µ</option>
                  <option value="–ù–µ —Å–º–æ–≥—É">–ù–µ —Å–º–æ–≥—É, –Ω–æ –±—É–¥—É —Å –≤–∞–º–∏ —Å–µ—Ä–¥—Ü–µ–º</option>
                </select>
              </div>

              <div>
                <label for="plusone">–ü—Ä–∏–¥—ë—Ç–µ –ª–∏ –≤—ã —Å +1?</label>
                <input id="plusone" name="plusone" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –¥–∞, —Å –º—É–∂–µ–º / –Ω–µ—Ç / —Å —Ä–µ–±—ë–Ω–∫–æ–º" />
              </div>

              <div>
                <label for="song">–ü–µ—Å–Ω—è, –ø–æ–¥ –∫–æ—Ç–æ—Ä—É—é –≤—ã —Ö–æ—Ç–∏—Ç–µ –Ω–∞—Å –≤–∏–¥–µ—Ç—å –∏–ª–∏ —Ç–∞–Ω—Ü–µ–≤–∞—Ç—å</label>
                <input id="song" name="song" type="text" placeholder="–ú–æ–∂–Ω–æ —Ç—Ä–µ–∫ –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ ¬´—á—Ç–æ-–Ω–∏–±—É–¥—å –º–µ–¥–ª–µ–Ω–Ω–æ–µ¬ª" />
              </div>

              <div>
                <label for="message">–°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –õ–∏—Å—ë–Ω–∫–∞ –∏ –Å–∂–∏–∫–∞</label>
                <textarea id="message" name="message" placeholder="–ü–æ–∂–µ–ª–∞–Ω–∏—è, —à—É—Ç–∫–∏, —É–≥—Ä–æ–∑—ã –æ–±–Ω—è—Ç—å ‚Äî –≤—Å—ë —Å—é–¥–∞"></textarea>
              </div>

              <button type="submit" class="pixel-btn">
                ‚úî –û—Ç–ø—Ä–∞–≤–∏—Ç—å RSVP
              </button>

              <div class="rsvp-note">
                –§–æ—Ä–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø–∏–∫—Å–µ–ª—å–Ω–∞—è –º–∞–≥–∏—è:  
                –¥–∞–Ω–Ω—ã–µ —É–≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ –õ–∏—Å—ë–Ω–æ–∫ –∏ –Å–∂–∏–∫  
                (–∏ —Ç–æ—Ç, –∫—Ç–æ –æ—Ç–∫—Ä–æ–µ—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª üòå).
              </div>
            </form>

            <div id="rsvp-success" class="rsvp-success">
              –°–ø–∞—Å–∏–±–æ!  
              –í–∞—à RSVP —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ —Å–µ—Ä–¥–µ—á–Ω–æ–π –ø–∞–º—è—Ç–∏ –õ–∏—Å—ë–Ω–∫–∞ –∏ –Å–∂–∏–∫–∞ üíæ‚ù§Ô∏è
            </div>
          </div>
        </div>

        <div class="buttons-row" style="margin-top: 10px;">
          <button class="pixel-btn ghost" onclick="backToStart()">
            ‚óÄ –ï—â—ë —Ä–∞–∑ –ø—Ä–æ–π—Ç–∏ –∏—Å—Ç–æ—Ä–∏—é
          </button>
        </div>
      </div>

      <div class="console" id="console">
        > –ó–∞–ø—É—Å–∫ –Ω–æ—á–Ω–æ–π —É–ª–æ—á–∫–∏...  
        > –ó–∞–≥—Ä—É–∑–∫–∞ –õ–∏—Å—ë–Ω–∫–∞ –∏ –Å–∂–∏–∫–∞ –ø–æ–¥ –∫—Ä–∞—Å–Ω—ã–º–∏ —Ñ–æ–Ω–∞—Ä–∏–∫–∞–º–∏...  
        > –û–∂–∏–¥–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –ø—É—Ç–∏...
      </div>
    </div>
  </div>

  <script>
    const screens = {
      1: document.getElementById("screen-1"),
      2: document.getElementById("screen-2"),
      3: document.getElementById("screen-3"),
      4: document.getElementById("screen-4"),
    };

    const dots = {
      1: document.getElementById("dot-1"),
      2: document.getElementById("dot-2"),
      3: document.getElementById("dot-3"),
      4: document.getElementById("dot-4"),
    };

    const fox = document.getElementById("fox");
    const hedgehog = document.getElementById("hedgehog");
    const heart = document.getElementById("heart");
    const consoleBox = document.getElementById("console");
    const pathText = document.getElementById("path-text");
    const jointText = document.getElementById("joint-text");
    const rsvpForm = document.getElementById("rsvp-form");
    const rsvpSuccess = document.getElementById("rsvp-success");
    const btnFox = document.getElementById("btn-fox");
    const btnHedgehog = document.getElementById("btn-hedgehog");
    const mazeFox = document.getElementById("maze-fox");
    const mazeHedgehog = document.getElementById("maze-hedgehog");

    let currentView = null;   // 'fox' –∏–ª–∏ 'hedgehog'
    let mazeStep = 0;         // 0..4

    function logToConsole(text) {
      consoleBox.textContent = text;
    }

    function setActiveDot(step) {
      Object.keys(dots).forEach((key) => dots[key].classList.remove("active"));
      dots[step].classList.add("active");
    }

    function showScreen(num) {
      Object.keys(screens).forEach((key) => screens[key].classList.remove("active"));
      screens[num].classList.add("active");
      setActiveDot(num);
    }

    function resetAnimals() {
      fox.style.transform = "translateX(0)";
      hedgehog.style.transform = "translateX(0)";
      heart.classList.remove("visible");
    }

    function updateViewHighlight() {
      fox.classList.remove("active");
      hedgehog.classList.remove("active");
      btnFox.classList.remove("view-selected");
      btnHedgehog.classList.remove("view-selected");

      if (currentView === "fox") {
        fox.classList.add("active");
        btnFox.classList.add("view-selected");
      } else if (currentView === "hedgehog") {
        hedgehog.classList.add("active");
        btnHedgehog.classList.add("view-selected");
      }
    }

    function advanceMaze() {
      mazeStep = Math.min(mazeStep + 1, 4);
      // 0: –¥–∞–ª–µ–∫–æ, 4: –æ—á–µ–Ω—å –±–ª–∏–∑–∫–æ
      const foxPos = 4 + mazeStep * 9;   // –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
      const hedgehogPos = 4 + mazeStep * 9;
      mazeFox.style.left = foxPos + "%";
      mazeHedgehog.style.right = hedgehogPos + "%";
    }

    function ensureView() {
      if (!currentView) {
        currentView = "fox";
        updateViewHighlight();
      }
    }

    function startPath(who) {
      resetAnimals();
      currentView = who;
      updateViewHighlight();
      showScreen(2);

      if (who === "fox") {
        pathText.textContent =
          "–ü—É—Ç—å –õ–∏—Å—ë–Ω–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω.\n\n" +
          "–õ–∏—Å—ë–Ω–æ–∫ —É—á–∏–ª—Å—è –Ω–∞ –∏–Ω–∂–µ–Ω–µ—Ä–∞ –±–∏–æ–º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π —Ç–µ—Ö–Ω–∏–∫–∏, " +
          "—É—á–∏–ª –∫–∏—Ç–∞–π—Å–∫–∏–π, –º–µ—á—Ç–∞–ª –æ –º–∞–≥–∏—Å—Ç—Ä–∞—Ç—É—Ä–µ –≤ –ö–∏—Ç–∞–µ, " +
          "—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞–ª —É–ª–æ—á–∫–∏ –∏ –ª—é–¥–µ–π –∏ –ø—ã—Ç–∞–ª—Å—è —Å–æ–≤–º–µ—Å—Ç–∏—Ç—å —ç—Ç–æ –≤—Å—ë " +
          "—Å –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–º–∏, –ü–õ–ò–° –∏ –¥–µ–¥–ª–∞–π–Ω–∞–º–∏.\n\n" +
          "–í–Ω—É—Ç—Ä–∏ –∏–Ω–æ–≥–¥–∞ –±—ã–ª–æ –æ—â—É—â–µ–Ω–∏–µ, —á—Ç–æ –º–∏—Ä –æ–≥—Ä–æ–º–Ω—ã–π, " +
          "–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –º–Ω–æ–≥–æ, –∞ –æ–ø–æ—Ä—ã –∫–∞–∫ –±—É–¥—Ç–æ –Ω–µ—Ç. " +
          "–ù–æ –≥–¥–µ-—Ç–æ —Ä—è–¥–æ–º —É–∂–µ —à—ë–ª –æ–¥–∏–Ω –Å–∂–∏–∫, " +
          "–∫–æ—Ç–æ—Ä—ã–π –æ—á–µ–Ω—å –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è –¥–ª—è –ø—É–Ω–∫—Ç–∞ ¬´–¥–æ–º¬ª.";
        logToConsole(
          "> –†–µ–∂–∏–º –Ω–∞–±–ª—é–¥–µ–Ω–∏—è: –õ–∏—Å—ë–Ω–æ–∫\n" +
          "> –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: –∫–∏—Ç–∞–π—Å–∫–∏–π, —Ñ–æ—Ç–æ–∞–ø–ø–∞—Ä–∞—Ç, —á–µ–º–æ–¥–∞–Ω, –ü–õ–ò–°\n" +
          "> –°—Ç–∞—Ç—É—Å: —Å–ø–æ—Å–æ–±–µ–Ω(–∞) –Ω–∞ –º–Ω–æ–≥–æ–µ, –Ω–æ –µ—â—ë –∏—â–µ—Ç —Ç–æ—á–∫—É –æ–ø–æ—Ä—ã"
        );
      } else {
        pathText.textContent =
          "–ü—É—Ç—å –Å–∂–∏–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω.\n\n" +
          "–Å–∂–∏–∫ ‚Äî —Å—Ç–∞—Ä–æ—Å—Ç–∞, –∏–Ω–∂–µ–Ω–µ—Ä, —á–µ–ª–æ–≤–µ–∫ ¬´—è –≤—Å—ë —Ä–∞–∑—Ä—É–ª—é¬ª. " +
          "–í –ø—Ä–æ—à–ª–æ–º ‚Äî —Ñ–∏–≥—É—Ä–∏—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≤—ã–∫ –¥–µ—Ä–∂–∞—Ç—å —Ä–∞–≤–Ω–æ–≤–µ—Å–∏–µ " +
          "–Ω–∞ –ª—å–¥—É, –∏–≥—Ä–∞—Ç—å –Ω–∞ —Å–∫—Ä–∏–ø–∫–µ –∏ –¥–∞–∂–µ –≤ –≥—Ä—É–ø–ø–µ.\n\n" +
          "–ü—Ä–æ –ø–µ—Ä–µ–µ–∑–¥—ã –≤ –ê–∑–∏—é –æ–Ω –Ω–µ —Ç–æ —á—Ç–æ –Ω–µ –º–µ—á—Ç–∞–ª ‚Äî " +
          "–æ–Ω –≤ —Ü–µ–ª–æ–º –Ω–µ –¥—É–º–∞–ª, —á—Ç–æ –∂–∏–∑–Ω—å –º–æ–∂–µ—Ç —Ç–∞–∫ –≤—ã–≤–µ–∑—Ç–∏. " +
          "–ë—ã–ª–∞ —Ä–∞–±–æ—Ç–∞, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –ª—é–¥–∏ –≤–æ–∫—Ä—É–≥, –Ω–æ " +
          "–∫–∞–∫ –±—É–¥—Ç–æ –±–µ–∑ —á—ë—Ç–∫–æ–π –ª–∏—á–Ω–æ–π –º–µ—á—Ç—ã.\n\n" +
          "–í—Å–µ–ª–µ–Ω–Ω–∞—è –ø–æ—Å—Ç–∞–≤–∏–ª–∞ –ø–æ–º–µ—Ç–∫—É: ¬´–Ω–∞–¥–æ –¥–æ–±–∞–≤–∏—Ç—å " +
          "–Ω–µ–º–Ω–æ–≥–æ –∏–º–ø—É–ª—å—Å–∏–≤–Ω–æ–≥–æ —Å–æ–ª–Ω—Ü–∞¬ª.";
        logToConsole(
          "> –†–µ–∂–∏–º –Ω–∞–±–ª—é–¥–µ–Ω–∏—è: –Å–∂–∏–∫\n" +
          "> –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: —Ñ–∏–≥—É—Ä–∏—Å—Ç, —Å—Ç–∞—Ä–æ—Å—Ç–∞, —Å–∫—Ä–∏–ø–∫–∞, –≥—Ä—É–ø–ø–∞\n" +
          "> –°—Ç–∞—Ç—É—Å: –æ—á–µ–Ω—å —É—Å—Ç–æ–π—á–∏–≤—ã–π, –Ω–æ –ø–æ–∫–∞ –±–µ–∑ –º–µ—á—Ç—ã –ø—Ä–æ –ê–∑–∏—é"
        );
      }
    }

    function nextScreen(num) {
      showScreen(num);
      if (num === 3) {
        ensureView();
        jointText.textContent =
          "–ö —Ç–æ–º—É –º–æ–º–µ–Ω—Ç—É –æ–±–∞ —É–∂–µ —É–º–µ–ª–∏ –º–Ω–æ–≥–æ:  " +
          "—Å—á–∏—Ç–∞—Ç—å, –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –ø–∞–¥–∞—Ç—å –∏ –≤—Å—Ç–∞–≤–∞—Ç—å.  \n" +
          "–ù–æ –Ω–µ –æ—á–µ–Ω—å –ø–æ–Ω–∏–º–∞–ª–∏, —Ä–∞–¥–∏ –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –∂–∏–∑–Ω–∏  \n" +
          "–≤—Å—ë —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç.\n\n" +
          "–°–µ–π—á–∞—Å –∫–∞–º–µ—Ä–∞ —Å–º–æ—Ç—Ä–∏—Ç –≥–ª–∞–∑–∞–º–∏ " +
          (currentView === "fox" ? "–õ–∏—Å—ë–Ω–∫–∞." : "–Å–∂–∏–∫–∞.") +
          " –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –≤–∑–≥–ª—è–¥, " +
          "–∏ –∫–∞–∂–¥–∞—è –≥–ª–∞–≤–∞ —á—É—Ç—å –º–µ–Ω—è–µ—Ç –æ—Ç—Ç–µ–Ω–æ–∫.";
        logToConsole(
          "> –û—Ç–∫—Ä—ã—Ç –æ–±—â–∏–π —Ç–∞–π–º–ª–∞–π–Ω\n" +
          "> –ö–∞–º–µ—Ä–∞: " + (currentView === "fox" ? "–õ–∏—Å—ë–Ω–æ–∫" : "–Å–∂–∏–∫") + "\n" +
          "> –î–æ—Å—Ç—É–ø–Ω—ã –≥–ª–∞–≤—ã: —ç–∫–∑–∞–º–µ–Ω, –ø—Ä–æ–≥—É–ª–∫–∏, –ü—Å–∫–æ–≤, –Ø–ø–æ–Ω–∏—è"
        );
      }
    }

    function showExam() {
      ensureView();
      advanceMaze();

      if (currentView === "fox") {
        jointText.textContent =
          "–≠–∫–∑–∞–º–µ–Ω –≥–ª–∞–∑–∞–º–∏ –õ–∏—Å—ë–Ω–∫–∞.\n\n" +
          "–ó–Ω–∞–∫–æ–º—ã ‚Äî –ª–µ—Ç –ø—è—Ç—å, –Ω–æ –≤—Å—ë –≤—Å–µ–≥–¥–∞ –±—ã–ª–æ ¬´–∫–∞–∫-—Ç–æ —Ä—è–¥–æ–º¬ª. " +
          "–í —Ç–æ—Ç –∞–ø—Ä–µ–ª—å—Å–∫–∏–π –¥–µ–Ω—å –õ–∏—Å—ë–Ω–æ–∫ —á–µ—Å—Ç–Ω–æ –∑–∞–≤–∞–ª–∏–ª –±–∏–ª–µ—Ç " +
          "–∏ —Å–∏–¥–µ–ª —Å –æ—â—É—â–µ–Ω–∏–µ–º, —á—Ç–æ –º–∏—Ä —Ä—É—Ö–Ω—É–ª –∏ –æ–Ω –Ω–∏—á–µ–≥–æ –Ω–µ —Å—Ç–æ–∏—Ç.\n\n" +
          "–Å–∂–∏–∫ —Å–¥–∞–ª –∏ –º–æ–≥ —É–π—Ç–∏, –Ω–æ –ø—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–ª —Ä—è–¥–æ–º –∏ –º–æ–ª—á–∞ —Å—Ç–æ—è–ª, " +
          "–Ω–∏—á–µ–≥–æ –Ω–µ —Ç—Ä–µ–±—É—è, –Ω–µ –¥–∞–≤–∞—è —Å–æ–≤–µ—Ç–æ–≤, –ø—Ä–æ—Å—Ç–æ ‚Äî –±—ã–ª.\n\n" +
          "–ü–æ—Ç–æ–º –õ–∏—Å—ë–Ω–æ–∫ —Å–¥–µ–ª–∞–ª —Ç–æ, —á–µ–≥–æ —Å–∞–º –æ—Ç —Å–µ–±—è –Ω–µ –æ–∂–∏–¥–∞–ª: " +
          "–ø–µ—Ä–≤—ã–º –Ω–∞–ø–∏—Å–∞–ª –Å–∂–∏–∫—É –∏ –ø–æ–∑–≤–∞–ª –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É. " +
          "–° —Ç–µ—Ö –ø–æ—Ä –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º –ø—Ä–æ—Ç–æ–∫–æ–ª–µ –õ–∏—Å—ë–Ω–∫–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ: " +
          "¬´—è —Ä–µ–∞–ª—å–Ω–æ —É–º–µ—é –¥–µ–ª–∞—Ç—å –ø–µ—Ä–≤—ã–µ —à–∞–≥–∏, –¥–∞–∂–µ –∫–æ–≥–¥–∞ —Å—Ç—Ä–∞—à–Ω–æ¬ª.";
      } else {
        jointText.textContent =
          "–≠–∫–∑–∞–º–µ–Ω –≥–ª–∞–∑–∞–º–∏ –Å–∂–∏–∫–∞.\n\n" +
          "–û—á–µ—Ä–µ–¥–Ω–æ–π —Å—Ç—Ä–µ—Å—Å–æ–≤—ã–π –¥–µ–Ω—å, –±–∏–ª–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–¥–æ –≤—ã—Ç—è–Ω—É—Ç—å, " +
          "–∏ –∑–Ω–∞–∫–æ–º–∞—è –≥—Ä—É–ø–ø–∞ –≤–æ–∫—Ä—É–≥. –Å–∂–∏–∫ –ø—Ä–∏–≤—ã–∫ —Å–ø—Ä–∞–≤–ª—è—Ç—å—Å—è: " +
          "—Å–¥–∞–ª ‚Äî –º–æ–∂–Ω–æ –≤—ã–¥–æ—Ö–Ω—É—Ç—å.\n\n" +
          "–û–Ω —É–≤–∏–¥–µ–ª –õ–∏—Å—ë–Ω–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–∏–¥–∏—Ç —Å–æ–≤—Å–µ–º –ø–æ–Ω–∏–∫—à–∏–π, " +
          "–∏ –Ω–µ –ø—Ä–∏–¥—É–º–∞–ª –Ω–∏ –æ–¥–Ω–æ–π –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ñ—Ä–∞–∑—ã. " +
          "–ü–æ—ç—Ç–æ–º—É –ø—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–ª —Ä—è–¥–æ–º –∏ –æ—Å—Ç–∞–ª—Å—è. " +
          "–ë–µ–∑ —Ä–µ—á–µ–π, –±–µ–∑ ¬´–Ω—É —Ç—ã –Ω–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π¬ª, –ø—Ä–æ—Å—Ç–æ –º–æ–ª—á–∞–ª–∏–≤–æ–π –æ–ø–æ—Ä–æ–π.\n\n" +
          "–û–Ω –Ω–µ –æ–∂–∏–¥–∞–ª, —á—Ç–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –µ–º—É –Ω–∞–ø–∏—à—É—Ç –ø–µ—Ä–≤—ã–º " +
          "–∏ –ø–æ–∑–æ–≤—É—Ç –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É. " +
          "–≠—Ç–æ—Ç –º–∞–ª–µ–Ω—å–∫–∏–π –∑–Ω–∞—á–æ–∫ –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ —Å—Ç–∞–ª –Ω–∞—á–∞–ª–æ–º " +
          "–æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π –ø–µ—Ä–µ–ø–∏—Å–∫–∏.";
      }

      logToConsole(
        "> –ì–ª–∞–≤–∞: —ç–∫–∑–∞–º–µ–Ω (" + (currentView === "fox" ? "–≤–∏–¥ –æ—Ç –õ–∏—Å—ë–Ω–∫–∞" : "–≤–∏–¥ –æ—Ç –Å–∂–∏–∫–∞") + ")\n" +
        "> –õ–∞–±–∏—Ä–∏–Ω—Ç: –≥–µ—Ä–æ–∏ –ø—Ä–æ–¥–≤–∏–Ω—É–ª–∏—Å—å –±–ª–∏–∂–µ –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É"
      );
    }

    function showWalks() {
      ensureView();
      advanceMaze();

      if (currentView === "fox") {
        jointText.textContent =
          "–ü—Ä–æ–≥—É–ª–∫–∏ –≥–ª–∞–∑–∞–º–∏ –õ–∏—Å—ë–Ω–∫–∞.\n\n" +
          "–°–Ω–∞—á–∞–ª–∞ —ç—Ç–æ –±—ã–ª–∏ –ø—Ä–æ—Å—Ç–æ ¬´–¥–∞–≤–∞–π –≤—ã–π–¥–µ–º –Ω–∞ —á—É—Ç—å-—á—É—Ç—å¬ª, " +
          "–∞ –ø–æ—Ç–æ–º –Ω–æ–≥–∏ —Å–∞–º–∏ —Å—Ç–∞–ª–∏ —Å–æ–±–∏—Ä–∞—Ç—å –ø–æ 30‚Äì35 —Ç—ã—Å—è—á —à–∞–≥–æ–≤.\n\n" +
          "–ö–∞–∂–¥–æ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ ‚Äî –ø–æ—á—Ç–∏ —Ä–∏—Ç—É–∞–ª: –í–î–ù–•, " +
          "—à–∫–æ–ª—å–Ω–∞—è —Ñ–∏–∑–∫—É–ª—å—Ç—É—Ä–∞ –≤ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ 2.0, " +
          "–≥–¥–µ –º–æ–∂–Ω–æ –æ–±—Å—É–∂–¥–∞—Ç—å –∫–∏—Ç–∞–π—Å–∫–∏–π, –ü–õ–ò–°, —Å–º—ã—Å–ª—ã –∂–∏–∑–Ω–∏ " +
          "–∏ —Ç–æ, –ø–æ—á–µ–º—É –ª—é–∫–∏ –≤—ã–≥–ª—è–¥—è—Ç –∫–∞–∫ –º–∞–ª–µ–Ω—å–∫–∏–µ –ø–æ—Ä—Ç–∞–ª—ã.\n\n" +
          "–î–ª—è –õ–∏—Å—ë–Ω–∫–∞ –≥–æ—Ä–æ–¥ –≤–ø–µ—Ä–≤—ã–µ —Å—Ç–∞–ª –º–µ—Å—Ç–æ–º, " +
          "–≥–¥–µ –Ω–µ —Ö–æ—á–µ—Ç—Å—è —É–±–µ–∂–∞—Ç—å –¥–∞–ª—å—à–µ ‚Äî " +
          "–ø–æ—Ç–æ–º—É —á—Ç–æ —Ä—è–¥–æ–º –∏–¥—ë—Ç —Å–≤–æ–π —á–µ–ª–æ–≤–µ–∫.";
      } else {
        jointText.textContent =
          "–ü—Ä–æ–≥—É–ª–∫–∏ –≥–ª–∞–∑–∞–º–∏ –Å–∂–∏–∫–∞.\n\n" +
          "35 —Ç—ã—Å—è—á —à–∞–≥–æ–≤ ‚Äî —ç—Ç–æ –≤–æ–æ–±—â–µ-—Ç–æ –º–Ω–æ–≥–æ. " +
          "–ù–æ —Å –õ–∏—Å—ë–Ω–∫–æ–º –ø–æ—á–µ–º—É-—Ç–æ –æ–∫.\n\n" +
          "–í–î–ù–• –ø–æ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å—è–º, –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –∫—Ä—É–≥–∏, " +
          "–ø–µ—Ä–µ–∫—É—Å—ã, —Ä–∞–∑–≥–æ–≤–æ—Ä—ã, –≤–Ω–µ–∑–∞–ø–Ω—ã–µ —Ñ–æ—Ç–æ –∏ " +
          "–∏–º–ø—É–ª—å—Å–∏–≤–Ω—ã–µ ¬´–∞ –ø–æ–π–¥—ë–º –µ—â—ë —Ç—É–¥–∞¬ª.\n\n" +
          "–Å–∂–∏–∫, –ø—Ä–∏–≤—ã–∫—à–∏–π –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, " +
          "–≤–¥—Ä—É–≥ –æ–±–Ω–∞—Ä—É–∂–∏–ª, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–æ—Å—Ç–æ –∏–¥—Ç–∏, " +
          "–Ω–µ —Ä—É–≥–∞—è—Å—å –Ω–∞ –ª–∏—à–Ω–∏–µ –∫–∏–ª–æ–º–µ—Ç—Ä—ã, " +
          "–∏ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å, —á—Ç–æ —ç—Ç–æ ‚Äî –æ—á–µ–Ω—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç.";
      }

      logToConsole(
        "> –ì–ª–∞–≤–∞: –ø—Ä–æ–≥—É–ª–∫–∏ (" + (currentView === "fox" ? "–≤–∏–¥ –æ—Ç –õ–∏—Å—ë–Ω–∫–∞" : "–≤–∏–¥ –æ—Ç –Å–∂–∏–∫–∞") + ")\n" +
        "> –®–∞–≥–∏: 30‚Äì35k, –í–î–ù–•, —Ä–∞–∑–≥–æ–≤–æ—Ä—ã"
      );
    }

    function showPskov() {
      ensureView();
      advanceMaze();

      if (currentView === "fox") {
        jointText.textContent =
          "–ü—Å–∫–æ–≤ –≥–ª–∞–∑–∞–º–∏ –õ–∏—Å—ë–Ω–∫–∞.\n\n" +
          "–ü–æ–µ–∑–¥–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –≤ –≥–æ–ª–æ–≤–µ –±—ã–ª–∞ –ø—Ä–æ ¬´—Ç–∏—Ö–æ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å¬ª, " +
          "–Ω–∞—á–∞–ª–∞—Å—å —Å —Ö–∞–æ—Å–∞: –æ—Ç–º–µ–Ω—ë–Ω–Ω—ã–π —Ä–µ–π—Å, –¥—Ä–æ–Ω—ã –≤ –Ω–æ–≤–æ—Å—Ç—è—Ö, " +
          "–∞—ç—Ä–æ–ø–æ—Ä—Ç, –ø–∞–Ω–∏–∫–∞ –∏ –º–Ω–æ–≥–æ –Ω–µ–Ω—É–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –≤ –≥–æ–ª–æ–≤–µ.\n\n" +
          "–†–µ—à–µ–Ω–∏–µ –µ—Ö–∞—Ç—å —á–µ—Ä–µ–∑ –ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ø—Ä–µ–¥—Ä–∞—Å—Å–≤–µ—Ç, " +
          "–¥–æ—Ä–æ–≥–∏–µ —Ç–∞–∫—Å–∏, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–Ω–∞ ‚Äî –∏ —Ä—è–¥–æ–º —á–µ–ª–æ–≤–µ–∫, " +
          "—Ä—è–¥–æ–º —Å –∫–æ—Ç–æ—Ä—ã–º –ø–æ—á–µ–º—É-—Ç–æ –Ω–µ —Ç–∞–∫ —Å—Ç—Ä–∞—à–Ω–æ.\n\n" +
          "–ü–æ—Ç–æ–º –ü—Å–∫–æ–≤: –±–∞—Ä—Å–∏–∫–∏ –Ω–∞ –ª—é–∫–∞—Ö, –∫—Ä–µ–ø–æ—Å—Ç–∏, " +
          "—Ç–∏—Ö–∏–π –º–æ–Ω–∞—Å—Ç—ã—Ä—å, –≤–æ–¥–∞, " +
          "–º—É–∑–µ–π–Ω—ã–µ –ª—é–¥–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é—Ç –æ –≥–æ—Ä–æ–¥–µ " +
          "—Ç–∞–∫, –±—É–¥—Ç–æ —ç—Ç–æ –∂–∏–≤–æ–π –∑–≤–µ—Ä—å.\n\n" +
          "–ì–¥–µ-—Ç–æ –º–µ–∂–¥—É –∫—Ä–µ–ø–æ—Å—Ç–Ω—ã–º–∏ —Å—Ç–µ–Ω–∞–º–∏ –∏ —Ç–∏—à–∏–Ω–æ–π —É —Ä–µ–∫–∏ " +
          "—Å—Ç–∞–ª–æ —è—Å–Ω–æ: –º–æ–∂–Ω–æ —Å—Ç—Ä–æ–∏—Ç—å —Å–≤–æ—é –ª–∏—á–Ω—É—é –∫—Ä–µ–ø–æ—Å—Ç—å, " +
          "–≥–¥–µ —Å–ª—É—Ö–∏ –Ω–µ —Ä–∞–∑—Ä—É—à–∞—é—Ç, –∞ –ø–æ–¥–∫–æ–ø—ã —Ç–æ–ª—å–∫–æ —É–∫—Ä–µ–ø–ª—è—é—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç.";
      } else {
        jointText.textContent =
          "–ü—Å–∫–æ–≤ –≥–ª–∞–∑–∞–º–∏ –Å–∂–∏–∫–∞.\n\n" +
          "–°–Ω–∞—á–∞–ª–∞ –≤—Å—ë –≤—ã–≥–ª—è–¥–µ–ª–æ –∫–∞–∫ –∑–∞–¥–∞—á–∫–∞ –ø–æ –ª–æ–≥–∏—Å—Ç–∏–∫–µ: " +
          "—Ä–µ–π—Å –æ—Ç–º–µ–Ω–∏–ª–∏, –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –º–∞—Ä—à—Ä—É—Ç, " +
          "—Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –±–∏–ª–µ—Ç–∞–º–∏, —Ç–∞–∫—Å–∏, –≤—Ä–µ–º–µ–Ω–µ–º.\n\n" +
          "–í —Ñ–æ–Ω–µ ‚Äî –Ω–∞–ø—Ä—è–∂—ë–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏ –æ—á–µ–Ω—å —Ç—Ä–µ–≤–æ–∂–Ω—ã–π –õ–∏—Å—ë–Ω–æ–∫, " +
          "–∫–æ—Ç–æ—Ä–æ–≥–æ —Ö–æ—á–µ—Ç—Å—è –∑–∞—â–∏—Ç–∏—Ç—å —Ö–æ—Ç—è –±—ã —Ç–µ–º, " +
          "—á—Ç–æ –≤—Å—ë –±—É–¥–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–æ.\n\n" +
          "–ü–æ—Ç–æ–º –¥–æ—Ä–æ–≥–∞ —á–µ—Ä–µ–∑ –ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ø–æ–µ–∑–¥, –∞–≤—Ç–æ–±—É—Å ‚Äî " +
          "–∏ –≤–¥—Ä—É–≥ –ü—Å–∫–æ–≤: –∫–∞–º–µ–Ω—å, –≤–æ–¥–∞, –∫—Ä–µ–ø–æ—Å—Ç–∏, —Ç–∏—à–∏–Ω–∞.\n\n" +
          "–î–ª—è –Å–∂–∏–∫–∞ —ç—Ç–æ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ —Å—Ç–∞–ª–æ –º–µ—Å—Ç–æ–º, " +
          "–≥–¥–µ –º–æ–∑–≥ –≤—ã–∫–ª—é—á–∞–µ—Ç —Ä–µ–∂–∏–º ¬´—Å—Ç–∞—Ä–æ—Å—Ç–∞ –≤—Å–µ–≥–æ –º–∏—Ä–∞¬ª " +
          "–∏ –ø—Ä–æ—Å—Ç–æ –¥—ã—à–∏—Ç —Ä—è–¥–æ–º —Å —Ç–µ–º, –∫–æ–≥–æ –æ—á–µ–Ω—å –Ω–µ —Ö–æ—á–µ—Ç—Å—è —Ç–µ—Ä—è—Ç—å.";
      }

      logToConsole(
        "> –ì–ª–∞–≤–∞: –ü—Å–∫–æ–≤ (" + (currentView === "fox" ? "–≤–∏–¥ –æ—Ç –õ–∏—Å—ë–Ω–∫–∞" : "–≤–∏–¥ –æ—Ç –Å–∂–∏–∫–∞") + ")\n" +
        "> –°–æ—Å—Ç–æ—è–Ω–∏–µ: —Ö–∞–æ—Å –Ω–∞ –≤—Ö–æ–¥–µ, –∫—Ä–µ–ø–æ—Å—Ç—å –Ω–∞ –≤—ã—Ö–æ–¥–µ"
      );
    }

    function showJapan() {
      ensureView();
      advanceMaze();

      if (currentView === "fox") {
        jointText.textContent =
          "–Ø–ø–æ–Ω–∏—è –≥–ª–∞–∑–∞–º–∏ –õ–∏—Å—ë–Ω–∫–∞.\n\n" +
          "–ï—â—ë –æ–¥–Ω–∞ —Å—Ç—Ä–∞–Ω–∞, –µ—â—ë –æ–¥–∏–Ω —è–∑—ã–∫, " +
          "—ç–∫–∑–∞–º–µ–Ω –ø–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É –∏ –æ—â—É—â–µ–Ω–∏–µ, " +
          "—á—Ç–æ –º–∏—Ä —Å–Ω–æ–≤–∞ –æ—Ç–∫—Ä—ã–ª –Ω–æ–≤—É—é –∫–∞—Ä—Ç—É.\n\n" +
          "–¢–æ–ª—å–∫–æ –≤ —ç—Ç–æ—Ç —Ä–∞–∑ –≤—Å—ë –∏–Ω–∞—á–µ: " +
          "—Ä–∞–Ω—å—à–µ –ø–æ—Å–ª–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π –Ω–µ —Ö–æ—Ç–µ–ª–æ—Å—å –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è, " +
          "–¥–æ–º –∫–∞–∑–∞–ª—Å—è —á–µ–º-—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º.\n\n" +
          "–ê —Ç–µ–ø–µ—Ä—å –≤ –≥–æ–ª–æ–≤–µ –≤–¥—Ä—É–≥ –ø–æ—è–≤–∏–ª–∞—Å—å –º—ã—Å–ª—å: " +
          "¬´—Ö–æ—á—É –¥–æ–º–æ–π –∫ —á–µ–ª–æ–≤–µ–∫—É¬ª. " +
          "–ò —ç—Ç–æ –æ–∫–∞–∑–∞–ª–æ—Å—å –Ω–æ–≤—ã–º, –æ—á–µ–Ω—å —Ç—ë–ø–ª—ã–º –≤–∏–¥–æ–º —Å—á–∞—Å—Ç—å—è.";
      } else {
        jointText.textContent =
          "–Ø–ø–æ–Ω–∏—è –≥–ª–∞–∑–∞–º–∏ –Å–∂–∏–∫–∞.\n\n" +
          "–°—Ç—Ä–∞–Ω–∞, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–Ω—å—à–µ –±—ã–ª–∞ –ø—Ä–æ—Å—Ç–æ –≥–¥–µ-—Ç–æ –¥–∞–ª—ë–∫–∏–º —Ñ–æ–Ω–æ–º: " +
          "–∞–Ω–∏–º–µ, –∫–∞—Ä—Ç–∏–Ω–∫–∏, —á—É–∂–∏–µ –∏—Å—Ç–æ—Ä–∏–∏.\n\n" +
          "–í–¥—Ä—É–≥ ‚Äî —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å: –ø–æ–µ–∑–¥–∞, –∏–µ—Ä–æ–≥–ª–∏—Ñ—ã, " +
          "—ç–∫–∑–∞–º–µ–Ω –ø–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º—É, —É—Å—Ç–∞–ª–æ—Å—Ç—å –∏ —Å–º–µ—Ö, " +
          "–º–Ω–æ–≥–æ –Ω–µ–ø—Ä–∏–≤—ã—á–Ω–æ–≥–æ –≤–æ–∫—Ä—É–≥.\n\n" +
          "–Å–∂–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –Ω–∏–∫–æ–≥–¥–∞ –≤—Å–µ—Ä—å—ë–∑ –Ω–µ –¥—É–º–∞–ª " +
          "–Ω–∏ –æ –ø–µ—Ä–µ–µ–∑–¥–∞—Ö, –Ω–∏ –æ –∂–∏–∑–Ω–∏ –≤ –ê–∑–∏–∏, " +
          "–≤–¥—Ä—É–≥ –ª–æ–≤–∏—Ç —Å–µ–±—è –Ω–∞ —Ç–æ–º, —á—Ç–æ –µ–º—É –Ω–µ —Å—Ç—Ä–∞—à–Ω–æ " +
          "—Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —ç—Ç–æ –∫–∞–∫ –≤–∞—Ä–∏–∞–Ω—Ç ‚Äî " +
          "–ø–æ–∫–∞ —Ä—è–¥–æ–º –∏–¥—ë—Ç –õ–∏—Å—ë–Ω–æ–∫.";
      }

      logToConsole(
        "> –ì–ª–∞–≤–∞: –Ø–ø–æ–Ω–∏—è (" + (currentView === "fox" ? "–≤–∏–¥ –æ—Ç –õ–∏—Å—ë–Ω–∫–∞" : "–≤–∏–¥ –æ—Ç –Å–∂–∏–∫–∞") + ")\n" +
        "> –ò—Ç–æ–≥: –¥—Ä—É–≥–∞—è —Å—Ç—Ä–∞–Ω–∞, –Ω–æ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ ¬´–¥–æ–º¬ª"
      );
    }

    function connectPaths() {
      showScreen(3);

      fox.style.transform = "translateX(70px)";
      logToConsole(
        "> –ò–Ω–∏—Ü–∏–∞—Ü–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø—É—Ç–µ–π\n" +
        "> –ü–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É –ø–µ—Ä–≤—ã–º –¥–≤–∏–≥–∞–µ—Ç—Å—è –õ–∏—Å—ë–Ω–æ–∫ (–∫–∞–∫ –∏ –≤ –∂–∏–∑–Ω–∏)\n" +
        "> –Å–∂–∏–∫ –≥–æ—Ç–æ–≤–∏—Ç—Å—è —à–∞–≥–Ω—É—Ç—å –Ω–∞–≤—Å—Ç—Ä–µ—á—É..."
      );

      setTimeout(() => {
        hedgehog.style.transform = "translateX(-90px)";
      }, 230);

      setTimeout(() => {
        heart.classList.add("visible");
      }, 500);

      setTimeout(() => {
        showScreen(4);
        logToConsole(
          "> –°–∏–≥–Ω–∞–ª –ª—é–±–≤–∏ —Å—Ç–∞–±–∏–ª–µ–Ω\n" +
          "> –î–∞—Ç–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞: 10.05.2026 19:40\n" +
          "> –ü–µ—Ä–µ—Ö–æ–¥ –≤ —Ä–µ–∂–∏–º —Å–≤–∞–¥–µ–±–Ω–æ–≥–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è"
        );
      }, 1000);
    }

    function backToStart() {
      resetAnimals();
      showScreen(1);
      rsvpSuccess.style.display = "none";
      rsvpForm.style.display = "flex";
      rsvpForm.reset();
      currentView = null;
      mazeStep = 0;
      mazeFox.style.left = "4%";
      mazeHedgehog.style.right = "4%";
      updateViewHighlight();
      logToConsole(
        "> –í–æ–∑–≤—Ä–∞—Ç –∫ –Ω–∞—á–∞–ª—É –∏—Å—Ç–æ—Ä–∏–∏\n" +
        "> –ö—Ä–∞—Å–Ω—ã–µ —Ñ–æ–Ω–∞—Ä–∏–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–∞–Ω–æ–≤–æ\n" +
        "> –ú–æ–∂–Ω–æ —Å–Ω–æ–≤–∞ –≤—ã–±–∏—Ä–∞—Ç—å —Ç–æ—á–∫—É –∑—Ä–µ–Ω–∏—è :)"
      );
    }

    rsvpForm.addEventListener("submit", (e) => {
      e.preventDefault();

      const name = document.getElementById("name").value || "–ì–æ—Å—Ç—å";
      const status = document.getElementById("status").value || "–Ω–µ —É–∫–∞–∑–∞–Ω";
      const plusone = document.getElementById("plusone").value || "–Ω–µ —É–∫–∞–∑–∞–Ω";
      const song = document.getElementById("song").value || "–Ω–µ —É–∫–∞–∑–∞–Ω–∞";
      const message = document.getElementById("message").value || "‚Äî";

      
      const emailTo = "Sazroval@bk.ru";

      const subject = `RSVP –Ω–∞ —Å–≤–∞–¥—å–±—É –õ–∏—Å—ë–Ω–∫–∞ –∏ –Å–∂–∏–∫–∞ ‚Äî ${name}`;
      const body =
        `–ò–º—è: ${name}\n` +
        `–°—Ç–∞—Ç—É—Å: ${status}\n` +
        `+1: ${plusone}\n` +
        `–ü–µ—Å–Ω—è: ${song}\n` +
        `–°–æ–æ–±—â–µ–Ω–∏–µ:\n${message}\n\n` +
        `–ê–≤—Ç–æ-–ø–∏—Å—å–º–æ —Å–æ —Å–≤–∞–¥–µ–±–Ω–æ–≥–æ —Å–∞–π—Ç–∞ ü¶äü¶î`;

      const mailtoLink =
        "mailto:" +
        encodeURIComponent(emailTo) +
        "?subject=" +
        encodeURIComponent(subject) +
        "&body=" +
        encodeURIComponent(body);

      window.location.href = mailtoLink;

      rsvpForm.style.display = "none";
      rsvpSuccess.style.display = "block";

      logToConsole(
        `> RSVP –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –∫ –æ—Ç–ø—Ä–∞–≤–∫–µ\n` +
        `> –ü–æ–ª—É—á–∞—Ç–µ–ª—å: ${emailTo}\n` +
        `> ${name}, —Å–ø–∞—Å–∏–±–æ, —á—Ç–æ –≤—ã —Å –Ω–∞–º–∏ –ø–æ–¥ –∫—Ä–∞—Å–Ω—ã–º–∏ —Ñ–æ–Ω–∞—Ä–∏–∫–∞–º–∏ ‚ù§Ô∏è`
      );
    });
  </script>
</body>
</html>

